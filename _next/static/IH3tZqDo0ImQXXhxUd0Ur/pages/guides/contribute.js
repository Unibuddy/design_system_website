(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"+wNj":function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return o}))},HbGN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("+wNj");function a(e,t){if(null==e)return{};var n,a,r=Object(o.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},Km8e:function(e,t,n){"use strict";var o=Object.assign.bind(Object);e.exports=o,e.exports.default=e.exports},ZVZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var o=n("ERkP"),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),b=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=b(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=b(n),u=o,m=p["".concat(i,".").concat(u)]||p[u]||d[u]||r;return n?a.a.createElement(m,l(l({ref:t},c),{},{components:n})):a.a.createElement(m,l({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"===typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"===typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},cxan:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}))},djvD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var o=n("cxan"),a=n("HbGN"),r=n("ERkP"),i=n.n(r),l=n("ZVZ0"),s=(i.a.createElement,{}),c="wrapper";function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.b)(c,Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",null,"Contributing"),Object(l.b)("p",null,"Our main goal with this library is to make building high quality, accessible, and highly polished products in Unibuddy effortless. The purpose of Patron is to create an extensible library of components that can be easily used across all of our products, and if need be, easily extended in functionality or design for use in a specific app. Furthermore, it is essential that all components are following the WCAG AA accessibility standards and best practices."),Object(l.b)("h2",null,"Requirements"),Object(l.b)("p",null,"When adding components to Patron keep the following requirements in mind:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"This component should be reusable across products"),Object(l.b)("li",{parentName:"ul"},"Therefore, colours, sizing and other design factors should be customizable, theme-able and work across different contexts"),Object(l.b)("li",{parentName:"ul"},"It should be extensible through composition, see how SubmitButton composes over LoadingButton, and LoadingButton composes over Button. LoadingButton passes all the props down, only adds loading functionality, but also is aware of how Button is styled"),Object(l.b)("li",{parentName:"ul"},"Component should be well documented, have a page in the DS website, a README.md in the folder where the code lives, a Storybook file"),Object(l.b)("li",{parentName:"ul"},"Ideally, component should be developed in Playroom or Storybook which encourages product agnostic design, and added to ",Object(l.b)("inlineCode",{parentName:"li"},"playroom/components.js")," and ",Object(l.b)("inlineCode",{parentName:"li"},"design_system/renderable.js")),Object(l.b)("li",{parentName:"ul"},"Component should satisfy the highest accessibility standards (WCAG AA 2.1)"),Object(l.b)("li",{parentName:"ul"},"Thoroughly tested with ",Object(l.b)("inlineCode",{parentName:"li"},"@testing-library/react"),", ",Object(l.b)("inlineCode",{parentName:"li"},"axe")," accessibility tools, and extensive real browser testing"),Object(l.b)("li",{parentName:"ul"},"It should be responsive and work across different platforms consistently")),Object(l.b)("p",null,"Components that satisfy any one of these conditions ",Object(l.b)("strong",{parentName:"p"},"do not belong in Patron"),":"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Is a template or a page"),Object(l.b)("li",{parentName:"ul"},"Is a collection of other DS components"),Object(l.b)("li",{parentName:"ul"},"Uses a specific apollo query or mutation"),Object(l.b)("li",{parentName:"ul"},"Implements product-specific business logic"),Object(l.b)("li",{parentName:"ul"},"Implements a larger product-specific design")),Object(l.b)("h2",null,"Guide"),Object(l.b)("p",null,"In order to change an existing component in the design system, or add a new component, the following steps should be followed:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"You should familiarize yourself with design system component design by doing research on some of the popular design systems and component libraries"),Object(l.b)("li",{parentName:"ol"},"Research similar implementations and solutions in existing libraries and design systems"),Object(l.b)("li",{parentName:"ol"},"You would have developed a working solution in the product area that you are working on"),Object(l.b)("li",{parentName:"ol"},"Open a PR with the new component and/or any alterations and tag @ZarkoPernar in the PR")),Object(l.b)("h2",null,"What belongs in Patron"),Object(l.b)("p",null,"Whenever you are adding a component to Patron you should think about it in those terms. Let's take the following example, a button that copies text to clipboard. Its behavior is generic enough, and it is something we need across products."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport {Tooltip, Button, useClipboard} from "@unibuddy/patron";\n\nconst ButtonCopyToClipboard = ({textToCopy, label, size, icon}) => {\n    const Icon = icon;\n    const {canUse, copyToClipboard} = useClipboard();\n    const onClick = () => {\n        copyToClipboard(textToCopy);\n    };\n    if (canUse) {\n        return (\n            <Tooltip label={label}>\n                <Button iconOnly size={size} onClick={onClick} data-test-id="clipboardButton">\n                    <Icon aria-hidden />\n                </Button>\n            </Tooltip>\n        );\n    }\n    return null;\n};\n\nexport default ButtonCopyToClipboard;\n')),Object(l.b)("p",null,"Can this component be used in the widget? How about live events? We cannot be sure, because the design requirements will be different depending on the context. This button has a very specific look, icon only button with a specific color. It has a restrictive api, we can only pass the icon and the size, and it is therefore not extensible. It is also not composable, we cannot pass a different button, or altogether different component to it."),Object(l.b)("h2",null,"Guiding Principles"),Object(l.b)("p",null,"The reason api design is paramount when it comes to making design system components is that its main purpose should be speed of development. If it takes longer to customize the component for our need than to make one from scratch, it actually hinders our development process rather than helps. Unless the component is not accessible, imports a large library, or it has serious performance issues, the implementation is not important. We can fix that later. But fixing a bad legacy api is an order of magnitude more difficult. This is the case with most abstractions."),Object(l.b)("p",null,"That is why it is often better to leave the rendering to the app if we are not sure of the cross-product requirements and design. In this case, the useClipboard hook from Patron is the important part and the way the button looks can easily be re-made on a case by case basis."),Object(l.b)("h2",null,"Development"),Object(l.b)("h3",null,"Requirements"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"yarn"),Object(l.b)("li",{parentName:"ul"},"node v12+")),Object(l.b)("h3",null,"Pre-commit hooks"),Object(l.b)("p",null,"For easier development and git diffing we run ",Object(l.b)("inlineCode",{parentName:"p"},"yarn lint")," and ",Object(l.b)("inlineCode",{parentName:"p"},"prettier")," as a pre-commit hook. If your commit fails check the output, it is likely that one of these two tasks failed."),Object(l.b)("h3",null,"Recommended tools"),Object(l.b)("p",null,"We recommend using VS Code as the front end development IDE."),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"VS Code extensions"),":"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"prettier"),Object(l.b)("li",{parentName:"ul"},"eslint"),Object(l.b)("li",{parentName:"ul"},"vscode-styled-components"),Object(l.b)("li",{parentName:"ul"},"styled-components-snippets"),Object(l.b)("li",{parentName:"ul"},"CSS Modules ",Object(l.b)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=clinyong.vscode-css-modules"},"marketplace link")),Object(l.b)("li",{parentName:"ul"},"CSS Modules Syntax Highlighter ",Object(l.b)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=andrewleedham.vscode-css-modules"},"marketplace link")),Object(l.b)("li",{parentName:"ul"},"PostCSS syntax ",Object(l.b)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=ricard.PostCSS"},"marketplace link")),Object(l.b)("li",{parentName:"ul"},"React PropTypes Intellisense ",Object(l.b)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=OfHumanBondage.react-proptypes-intellisense"},"marketplace link"))),Object(l.b)("h3",null,"TLDR;"),Object(l.b)("p",null,"In patron folder:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn")," to install all client dependencies (from any client folder)"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn start")," to start storybook development tool"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn playroom")," to start the playroom design tool"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn test")," to run the jest test suite"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn test:watch")," to run the jest in watch mode on changed files"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn lint")," to run eslint")),Object(l.b)("p",null,"In website folder:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn start")," to start nextjs development server")),Object(l.b)("p",null,"In examples folder:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"yarn start")," to start the dev-server")),Object(l.b)("h2",null,"Overview"),Object(l.b)("h3",null,"Dependency management"),Object(l.b)("p",null,"We use ",Object(l.b)("a",{parentName:"p",href:"https://yarnpkg.com/lang/en/docs/workspaces/"},"yarn workspaces")," to manage our front end client's dependencies. You can install all of the dependencies by running ",Object(l.b)("inlineCode",{parentName:"p"},"yarn"),' from the the root clients folder or any of the "packages".\nIt is not necessary to run yarn command in each of the sub-folders.'),Object(l.b)("h3",null,"Code style"),Object(l.b)("p",null,"All code style is enforced by prettier, which you should install in your editor, and then you can for the most part not worry about it. However, in order to enforce consistency, we have a pre-commit automatic prettier run on files that are staged for that commit. This way you should never have code style clashes in you PR's."),Object(l.b)("h3",null,"Linting"),Object(l.b)("p",null,"Code quality is enforced through eslint, and you should have it installed in your editor (and globally in order to work in the editor). ",Object(l.b)("inlineCode",{parentName:"p"},"yarn lint")," should be run before opening a PR in order to check if all the linting is passing. ",Object(l.b)("inlineCode",{parentName:"p"},"yarn lint:fix")," can be run to automatically fix some of the linting issues. Eslint should not be concerned with any code styling, only catching common js and React problems."),Object(l.b)("h3",null,"Javascript version"),Object(l.b)("p",null,"We write our javascript code in ES2018+ style with the following TC39 ",Object(l.b)("a",{parentName:"p",href:"https://github.com/tc39/proposals"},"proposals")," that are allowed:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"https://github.com/tc39/proposal-class-fields"},"class fields")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"https://github.com/tc39/proposal-static-class-features/"},"static class features")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"https://github.com/tc39/proposal-dynamic-import"},"import()"))),Object(l.b)("p",null,"Adding any new experimental js features or proposals needs to be discussed with the rest of the team. Ideally the proposal should be at least past stage 2 at the TC39 committee, meaning it is pretty much guaranteed to end up in browsers."))}b.isMDXComponent=!0},s31T:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/contribute",function(){return n("djvD")}])}},[["s31T",0,1]]]);